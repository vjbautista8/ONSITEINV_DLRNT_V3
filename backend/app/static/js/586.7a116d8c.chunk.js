"use strict";(self.webpackChunk_minimal_ui_ux=self.webpackChunk_minimal_ui_ux||[]).push([[586],{89553:function(e,n,t){t.r(n),t.d(n,{default:function(){return An}});var r=t(72791),i=t(59434),o=t(1413),l=t(49140),a=t(66934),s=t(45987),c=t(78156),d=t(45358),u=t(64554),p=t(80184),h=["color","size","scrollYProgress","sx"];function x(e){var n=e.color,t=void 0===n?"primary":n,r=e.size,i=void 0===r?3:r,l=e.scrollYProgress,a=e.sx,x=(0,s.Z)(e,h),m=(0,c.q)(l,{stiffness:100,damping:30,restDelta:.001});return(0,p.jsx)(u.Z,(0,o.Z)({component:d.m.div,sx:(0,o.Z)((0,o.Z)({top:0,left:0,right:0,height:i,zIndex:1999,position:"fixed",transformOrigin:"0%",bgcolor:"text.primary"},"inherit"!==t&&{background:function(e){return"linear-gradient(135deg, ".concat(e.palette[t].light," 0%, ").concat(e.palette[t].main," 100%)")}}),a),style:{scaleX:m}},x))}var m=t(60725),f=t(4942),g=t(29439),v=(t(45812),t(13967)),Z=t(27029),b=t(12652),y=t(36314),j=t(89164),w=t(64247),k=t(13400),C=t(51658),I=(t(83854),t(22459)),_=t(38887),S=t(84998),D=(t(66964),t(52115)),F=t(44e3),T=t(12065),N=t(4567),O=t(33805),R=["title","imgUrl","action","filled","description","sx"];function M(e){var n=e.title,t=e.imgUrl,r=e.action,i=e.filled,l=e.description,a=e.sx,c=(0,s.Z)(e,R);return(0,p.jsxs)(y.Z,(0,o.Z)((0,o.Z)({flexGrow:1,alignItems:"center",justifyContent:"center",sx:(0,o.Z)((0,o.Z)({px:3,height:1},i&&{borderRadius:2,bgcolor:function(e){return(0,T.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat((0,T.Fq)(e.palette.grey[500],.08))}}),a)},c),{},{children:[(0,p.jsx)(u.Z,{component:"img",alt:"empty content",src:t||"".concat(O.FX,"/assets/icons/empty/ic_content.svg"),sx:{width:1,maxWidth:160}}),n&&(0,p.jsx)(N.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),l&&(0,p.jsx)(N.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:l}),r&&r]}))}var P=t(99741),V=(t(50933),t(47089)),E=t(16013),A=t(3517),L=t(55907),z=t(59856),G=t(86414),W=t(19208),H=t(24308),U=t(50533),q=t(57621),B=t(82626),K=t(49900),Y=t(55931),Q=t(61474),$=t(25228),X=t(16386);function J(e,n){var t=n||"dd MMM yyyy";return e?(0,X.Z)(new Date(e),t):""}function ee(e,n){var t=n||"dd MMM yyyy hh:mm:ss a";return e?(0,X.Z)(new Date(e),t):""}var ne=t(26098),te=t.n(ne);function re(e){return ie(e?te()(e).format("$0,0.00"):"",".00")}function ie(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".00";return e.includes(n)?e.replace(n,""):e}var oe=t(87087);function le(){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1/1"]}var ae=["ratio","overlay","disabledEffect","alt","src","afterLoad","delayTime","threshold","beforeLoad","delayMethod","placeholder","wrapperProps","scrollPosition","effect","visibleByDefault","wrapperClassName","useIntersectionObserver","sx"],se=(0,r.forwardRef)((function(e,n){var t=e.ratio,r=e.overlay,i=e.disabledEffect,l=void 0!==i&&i,a=e.alt,c=e.src,d=e.afterLoad,h=e.delayTime,x=e.threshold,m=e.beforeLoad,f=e.delayMethod,g=e.placeholder,Z=e.wrapperProps,b=e.scrollPosition,y=e.effect,j=void 0===y?"blur":y,w=e.visibleByDefault,k=e.wrapperClassName,C=e.useIntersectionObserver,I=e.sx,_=(0,s.Z)(e,ae),S=(0,v.Z)(),D=!!r&&{"&:before":{content:"''",top:0,left:0,width:1,height:1,zIndex:1,position:"absolute",background:r||(0,T.Fq)(S.palette.grey[900],.48)}},F=(0,p.jsx)(u.Z,{component:oe.LazyLoadImage,alt:a,src:c,afterLoad:d,delayTime:h,threshold:x,beforeLoad:m,delayMethod:f,placeholder:g,wrapperProps:Z,scrollPosition:b,visibleByDefault:w,effect:l?void 0:j,useIntersectionObserver:C,wrapperClassName:k||"component-image-wrapper",placeholderSrc:"".concat(O.FX,l?"/assets/transparent.png":"/assets/placeholder.svg"),sx:(0,o.Z)({width:1,height:1,objectFit:"cover",verticalAlign:"bottom"},!!t&&{top:0,left:0,position:"absolute"})});return(0,p.jsx)(u.Z,(0,o.Z)((0,o.Z)({ref:n,component:"span",className:"component-image",sx:(0,o.Z)((0,o.Z)((0,o.Z)({overflow:"hidden",position:"relative",verticalAlign:"bottom",display:"inline-block"},!!t&&{width:1}),{},{"& span.component-image-wrapper":(0,o.Z)({width:1,height:1,verticalAlign:"bottom",backgroundSize:"cover !important"},!!t&&{pt:le(t)})},D),I)},_),{},{children:F}))})),ce=t(80160),de=t(82599),ue=t(54690),pe=t(85375);t(36459);var he=t(56920);t(98847);he.Z.configure({languages:["javascript","sh","bash","html","scss","css","json"]}),"undefined"!==typeof window&&(window.hljs=he.Z);(0,a.ZP)("div")((function(e){var n,t=e.theme,r="light"===t.palette.mode;return{h1:(0,o.Z)({margin:0},t.typography.h1),h2:(0,o.Z)({margin:0},t.typography.h2),h3:(0,o.Z)({margin:0},t.typography.h3),h4:(0,o.Z)({margin:0},t.typography.h4),h5:(0,o.Z)({margin:0},t.typography.h5),h6:(0,o.Z)({margin:0},t.typography.h6),p:(0,o.Z)({margin:0},t.typography.body1),br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":(n={lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.palette.text.secondary,borderRadius:2*t.shape.borderRadius,backgroundColor:t.palette.background.neutral},(0,f.Z)(n,t.breakpoints.up("md"),{width:"80%"}),(0,f.Z)(n,"& p, & span",{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"}),(0,f.Z)(n,"&:before",{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.palette.text.disabled}),n),"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:t.spacing(2),color:t.palette.common.white,borderRadius:t.shape.borderRadius,backgroundColor:r?t.palette.grey[900]:(0,T.Fq)(t.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:t.spacing(.2,.5),color:t.palette.warning[r?"darker":"lighter"],backgroundColor:t.palette.warning[r?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(t.palette.divider),"th, td":{padding:t.spacing(1),border:"1px solid ".concat(t.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:t.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.palette.grey[r?300:700]},"&:checked":{"&:before":{backgroundColor:t.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(t.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}}));var xe=t(95717);(0,a.ZP)(u.Z,{shouldForwardProp:function(e){return"rounded"!==e}})((function(e){var n=e.rounded;return{zIndex:9,margin:0,padding:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.theme.palette.primary.main,"& li":{width:18,height:18,opacity:.32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&.slick-active":(0,o.Z)({opacity:1},n&&{"& span":{width:16,borderRadius:6}})}}})),(0,a.ZP)("span")((function(e){var n=e.theme;return{width:8,height:8,borderRadius:"50%",transition:n.transitions.create(["width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.short})}}));(0,a.ZP)(k.Z,{shouldForwardProp:function(e){return"filled"!==e&&"hasChild"!==e&&"shape"!==e}})((function(e){var n=e.filled,t=e.shape,r=e.hasChild,i=e.theme;return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({color:"inherit",transition:i.transitions.create("all",{duration:i.transitions.duration.shorter})},"rounded"===t&&{borderRadius:1.5*i.shape.borderRadius}),!n&&{opacity:.48,"&:hover":{opacity:1}}),n&&{color:(0,T.Fq)(i.palette.common.white,.8),backgroundColor:(0,T.Fq)(i.palette.grey[900],.48),"&:hover":{color:i.palette.common.white,backgroundColor:i.palette.grey[900]}}),r&&{zIndex:9,top:"50%",position:"absolute",marginTop:i.spacing(-2.5)})}));var me=t(74744);(0,a.ZP)(u.Z)((function(e){var n=e.theme;return(0,o.Z)((0,o.Z)({},(0,me.Ls)({opacity:.48,color:n.palette.grey[900]})),{},{zIndex:9,display:"inline-flex",alignItems:"center",position:"absolute",bottom:n.spacing(2),right:n.spacing(2),padding:n.spacing(.25),color:n.palette.common.white,borderRadius:n.shape.borderRadius})})),(0,a.ZP)(k.Z)({width:28,height:28,padding:0,opacity:.48,"&:hover":{opacity:1}});var fe=t(74165),ge=t(15861),ve=t(93433),Ze=t(30439),be=t(5574),ye=t(65661),je=t(97123),we=t(39157),ke=t(69229),Ce=t(85523),Ie=t(41858),_e=(0,r.forwardRef)((function(e,n){return(0,p.jsx)(Y.Z,(0,o.Z)({direction:"up",ref:n},e))}));function Se(){var e=(0,v.Z)(),n=(0,i.I0)(),t=(0,i.v9)((function(e){return e.user})),o=t.swipeLeftState,l=t.vehicleReports,a=t.swipeData,s=t.loginUserState,c=t.addingServicesLoading,d=(0,r.useState)(o),u=(0,g.Z)(d,2),h=u[0],x=u[1],f=(0,r.useState)(null===a||void 0===a?void 0:a.Other_Reasons),Z=(0,g.Z)(f,2),b=Z[0],j=Z[1],w=(0,r.useState)((0,A.Qd)(null===a||void 0===a?void 0:a.Vehicle_Items,"display_value")),k=(0,g.Z)(w,2),C=k[0],I=k[1];(0,r.useEffect)((function(){console.log("carData Left services",C),x(!!o)}),[o,C]);var _=(0,A.VQ)(l,"Vehicle_Item"),S=(0,p.jsxs)(y.Z,{children:[_.map((function(e){return(0,p.jsx)(Ce.Z,{control:(0,p.jsx)(Ie.Z,{checked:C.includes(e),onClick:function(){return n=e,void(C.includes(n)?I(C.filter((function(e){return e!==n}))):I([].concat((0,ve.Z)(C),[n])));var n}}),label:e},e)})),(0,p.jsx)(ke.Z,{variant:"outlined",fullWidth:!0,label:"Other Reasons",sx:{mt:1},value:b,onChange:function(e){return j(e.target.value)}})]});return(0,p.jsx)("div",{children:(0,p.jsxs)(be.Z,{keepMounted:!0,open:h,TransitionComponent:_e,children:[(0,p.jsx)(ye.Z,{sx:{borderBottom:"dashed 1px ".concat(e.palette.divider)},children:null===a||void 0===a?void 0:a.Car_FullName}),(0,p.jsxs)(we.Z,{children:[(0,p.jsx)(N.Z,{sx:{mb:3,mt:3},children:c?"Adding Reason(s) the vehicle could not be serviced":"Reason(s) the vehicle could not be serviced"}),c&&(0,p.jsx)(m.a,{}),!c&&S]}),(0,p.jsx)(je.Z,{sx:{borderTop:"dashed 1px ".concat(e.palette.divider),mt:3,justifyContent:"center"},children:!c&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ze.Z,{variant:"contained",autoFocus:!0,onClick:function(){var e={};e.appName=null===s||void 0===s?void 0:s.appLinkName,e.reportName="On_Site_Inventory",e.id=null===a||void 0===a?void 0:a.ID,e.ACTION_V="ADDING_REASONS";var t={},r={},i=(0,A.n6)(l,C);r.Vehicle_Items=i,r.Other_Reasons=b,t.data=r,e.formData=t,e.UPDATE_FORMAT_VEHICLE_ITEMS=(0,A.um)(l,i),console.log("CONFIG",e);var o=function(){var t=(0,ge.Z)((0,fe.Z)().mark((function t(){return(0,fe.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n((0,L.Vs)(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o()},children:"Save"}),(0,p.jsx)(Ze.Z,{variant:"outlined",onClick:function(){x(!1),n((0,L.sH)({name:"swipeLeftState",value:!1}))},children:"Cancel"})]})})]})})}_e.displayName="Transition";var De=(0,r.forwardRef)((function(e,n){return(0,p.jsx)(Y.Z,(0,o.Z)({direction:"up",ref:n},e))}));function Fe(){var e=(0,i.I0)(),n=(0,v.Z)(),t=(0,i.v9)((function(e){return e.user})),o=t.swipeRightState,l=t.loginUserState,a=t.addingKeysNeededLoading,s=t.swipeData,c=(0,r.useState)(o),d=(0,g.Z)(c,2),u=d[0],h=d[1],x=(0,r.useState)(!1),f=(0,g.Z)(x,2),Z=f[0],b=f[1];(0,r.useEffect)((function(){h(!!o)}),[o]),(0,r.useEffect)((function(){var n={};n.appName=null===l||void 0===l?void 0:l.appLinkName,n.reportName="On_Site_Inventory",n.id=null===s||void 0===s?void 0:s.ID,n.ACTION_V="ADDING_KEYS";var t={},r={Keys:"Need"};t.data=r,n.formData=t,console.log("CONFIG",n);var i=function(){var t=(0,ge.Z)((0,fe.Z)().mark((function t(){return(0,fe.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,L.Vs)(n));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();"Need"!==(null===s||void 0===s?void 0:s.Keys)?i():(console.log("NO ACTION. ALREADY ADDED TO KEY NEEDED."),b(!0))}),[l,s,e]);return(0,p.jsx)("div",{children:(0,p.jsxs)(be.Z,{keepMounted:!0,open:u,TransitionComponent:De,children:[(0,p.jsx)(ye.Z,{sx:{borderBottom:"dashed 1px ".concat(n.palette.divider)},children:null===s||void 0===s?void 0:s.Car_FullName}),(0,p.jsxs)(we.Z,{sx:{pb:3},children:[(0,p.jsxs)(N.Z,{sx:{mb:3,mt:3,textAlign:"center"},children:[!Z&&a&&"Adding to Keys Needed",!Z&&!a&&"Success! Added to Keys Needed",Z&&"This vehicle are already in added in Keys Needed. Please see the history for more details."]}),!Z&&a&&(0,p.jsx)(m.a,{})]}),(!a||Z)&&(0,p.jsx)(je.Z,{sx:{borderTop:"dashed 1px ".concat(n.palette.divider),mt:3,justifyContent:"center"},children:(0,p.jsx)(Ze.Z,{variant:"outlined",onClick:function(){e((0,L.sH)({name:"swipeRightState",value:!1}))},children:"Okay"})})]})})}De.displayName="Transition";var Te=xe.Z;function Ne(e){var n=(0,r.useState)(-1),t=(0,g.Z)(n,2),i=t[0],o=t[1];return{selected:i,open:i>=0,onOpen:(0,r.useCallback)((function(n){var t=e.findIndex((function(e){return"video"===e.type?e.poster===n:e.src===n}));o(t)}),[e]),onClose:(0,r.useCallback)((function(){o(-1)}),[]),setSelected:o}}var Oe=t(62291),Re=t(70482),Me=t(98628),Pe=t(73557),Ve=t(19375),Ee=t(38559),Ae=t(36654),Le=t(6199);function ze(){var e=(0,v.Z)();return(0,p.jsx)(Le.Z,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,T.Fq)(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,T.Fq)(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}var Ge=["slides","disabledZoom","disabledVideo","disabledTotal","disabledCaptions","disabledSlideshow","disabledThumbnails","disabledFullscreen","onGetCurrentIndex"],We=24;function He(e){var n=e.slides,t=e.disabledZoom,r=e.disabledVideo,i=e.disabledTotal,l=e.disabledCaptions,a=e.disabledSlideshow,c=e.disabledThumbnails,d=e.disabledFullscreen,u=e.onGetCurrentIndex,h=(0,s.Z)(e,Ge),x=n?n.length:0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ze,{}),(0,p.jsx)(Oe.ZP,(0,o.Z)({slides:n,animation:{swipe:240},carousel:{finite:x<5},controller:{closeOnBackdropClick:!0},plugins:Ue({disabledZoom:t,disabledVideo:r,disabledCaptions:l,disabledSlideshow:a,disabledThumbnails:c,disabledFullscreen:d}),on:{view:function(e){var n=e.index;u&&u(n)}},toolbar:{buttons:[(0,p.jsx)(qe,{totalItems:x,disabledTotal:i},0),"close"]},render:{iconClose:function(){return(0,p.jsx)(F.Z,{width:We,icon:"carbon:close"})},iconZoomIn:function(){return(0,p.jsx)(F.Z,{width:We,icon:"carbon:zoom-in"})},iconZoomOut:function(){return(0,p.jsx)(F.Z,{width:We,icon:"carbon:zoom-out"})},iconSlideshowPlay:function(){return(0,p.jsx)(F.Z,{width:We,icon:"carbon:play"})},iconSlideshowPause:function(){return(0,p.jsx)(F.Z,{width:We,icon:"carbon:pause"})},iconPrev:function(){return(0,p.jsx)(F.Z,{width:We+8,icon:"carbon:chevron-left"})},iconNext:function(){return(0,p.jsx)(F.Z,{width:We+8,icon:"carbon:chevron-right"})},iconExitFullscreen:function(){return(0,p.jsx)(F.Z,{width:We,icon:"carbon:center-to-fit"})},iconEnterFullscreen:function(){return(0,p.jsx)(F.Z,{width:We,icon:"carbon:fit-to-screen"})}}},h))]})}function Ue(e){var n=e.disabledZoom,t=e.disabledVideo,r=e.disabledCaptions,i=e.disabledSlideshow,o=e.disabledThumbnails,l=e.disabledFullscreen,a=[Pe.Z,Ee.Z,Ve.Z,Ae.Z,Me.Z,Re.Z];return o&&(a=a.filter((function(e){return e!==Ae.Z}))),r&&(a=a.filter((function(e){return e!==Pe.Z}))),l&&(a=a.filter((function(e){return e!==Ee.Z}))),i&&(a=a.filter((function(e){return e!==Ve.Z}))),n&&(a=a.filter((function(e){return e!==Re.Z}))),t&&(a=a.filter((function(e){return e!==Me.Z}))),a}function qe(e){var n=e.totalItems,t=e.disabledTotal,r=(0,Oe.oc)().currentIndex;return t?null:(0,p.jsxs)(u.Z,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,p.jsxs)("strong",{children:[" ",r+1," "]})," / ",n]})}var Be=t(9585),Ke=t(36562),Ye=t(35651),Qe=t(27454),$e=t(28666),Xe=t(65552),Je=t(21658),en=t(46395),nn=["title","subheader","list"];function tn(e){var n=e.title,t=e.subheader,i=e.list;(0,s.Z)(e,nn);return(0,r.useEffect)((function(){var e=function(){console.log("User is scrolling")};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Be.Z,{title:n,subheader:t,sx:{pt:0}}),(0,p.jsx)(Ke.Z,{sx:(0,f.Z)({m:0,p:3},"& .".concat(Je.Z.root,":before"),{flex:0,padding:0}),children:i.map((function(e,n){return(0,p.jsx)(rn,{item:e,lastTimeline:n===i.length-1},e.id)}))})]})}function rn(e){var n=e.item,t=e.lastTimeline,r=n.type,i=n.title,o=n.time;return(0,p.jsxs)(en.Z,{children:[(0,p.jsxs)($e.Z,{children:[(0,p.jsx)(Ye.Z,{color:("order1"===r?"primary":"order2"===r&&"success")||"order3"===r&&"info"||"order4"===r&&"warning"||"error"}),t?null:(0,p.jsx)(Xe.Z,{})]}),(0,p.jsxs)(Qe.Z,{children:[(0,p.jsx)(N.Z,{variant:"subtitle2",children:i}),(0,p.jsx)(N.Z,{variant:"caption",sx:{color:"text.disabled"},children:"Unknown"!==o?ee(o):o}),(0,p.jsx)(N.Z,{variant:"caption",sx:{color:"text.disabled"},children:". By: ".concat(r)})]})]})}var on=t(25256),ln=t(34663),an=function(e){var n,t=e.dialogvalue,r=e.dialogonFalse,i=e.Transition,o=e.tour,l=e.renderTabs,a=e.currentTab,s=e.slides,c=e.settings,d=e.historyTimeline,h=Ne(s);return(0,p.jsxs)(be.Z,{fullScreen:!0,open:t,onClose:r,TransitionComponent:i,children:[(0,p.jsxs)(on.Z,{position:"fixed",color:"default",sx:{position:"sticky",top:0,pr:"0 !important",bgcolor:"dark"===c.themeMode?"rgb(33, 43, 54)":"rgb(255, 255, 255)"},children:[(0,p.jsxs)(ln.Z,{children:[(0,p.jsx)(k.Z,{color:"inherit",edge:"start",onClick:r,children:(0,p.jsx)(F.Z,{icon:"mingcute:close-line"})}),(0,p.jsxs)(N.Z,{variant:"h6",sx:{flex:1,ml:2},children:[null===o||void 0===o?void 0:o.Stock," | ",null===o||void 0===o?void 0:o.Year_field," | ",null===o||void 0===o?void 0:o.Make," | ",null===o||void 0===o?void 0:o.Model]})]}),l]}),(0,p.jsxs)(j.Z,{maxWidth:!c.themeStretch&&"lg",children:["bookers"===a&&(0,p.jsxs)(p.Fragment,{children:[s.length>0&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(u.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)",xl:"repeat(5, 1fr)"},children:s.map((function(e,n){var t,r;return(0,p.jsx)(se,{alt:null===(t=s[n])||void 0===t?void 0:t.src,src:null===(r=s[n])||void 0===r?void 0:r.src,onClick:function(){var e;return h.onOpen(null===(e=s[n])||void 0===e?void 0:e.src)},sx:{borderRadius:1}})}))})}),0===s.length&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(M,{title:"No Photo",filled:!0,sx:{py:10}})})]}),"content"===a&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(y.Z,{sx:{mx:"auto",m:0,p:3},children:[(0,p.jsx)(u.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)",xl:"repeat(5, 1fr)"},sx:{mb:2,pb:2,borderBottom:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:[{label:"Type",value:null===o||void 0===o?void 0:o.Type,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"VIN",value:null===o||void 0===o?void 0:o.VIN,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Stock",value:null===o||void 0===o?void 0:o.Stock,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Year",value:null===o||void 0===o?void 0:o.Year_field,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Make",value:null===o||void 0===o?void 0:o.Make,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Model",value:null===o||void 0===o?void 0:o.Model,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Trim",value:null===o||void 0===o?void 0:o.Trim,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Exterior Color",value:null===o||void 0===o?void 0:o.ExteriorColor,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Interior Color",value:null===o||void 0===o?void 0:o.InteriorColor,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Miles",value:null===o||void 0===o?void 0:o.Miles,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Selling Price",value:re(null===o||void 0===o?void 0:o.SellingPrice),icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"MSRP",value:re(null===o||void 0===o?void 0:o.MSRP),icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Certified",value:null===o||void 0===o?void 0:o.Certified,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Image Count",value:null===o||void 0===o?void 0:o.Image_Count,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Days In Stock",value:null===o||void 0===o?void 0:o.Days_In_Stock,icon:(0,p.jsx)(F.Z,{icon:"material-symbols-light:car-crash-rounded"})}].map((function(e){return(0,p.jsxs)(y.Z,{spacing:1.5,direction:"row",children:[e.icon,(0,p.jsx)(K.Z,{primary:e.label,secondary:e.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span"}})]},e.label)}))}),(0,p.jsx)(u.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)",xl:"repeat(5, 1fr)"},children:[{label:"Dealer",value:null===o||void 0===o||null===(n=o.Dealer)||void 0===n?void 0:n.display_value,icon:(0,p.jsx)(F.Z,{icon:"solar:user-rounded-bold"})},{label:"Dealer Phone",value:null===o||void 0===o?void 0:o.Dealer_Phone,icon:(0,p.jsx)(F.Z,{icon:"solar:user-rounded-bold"})},{label:"Dealer Address",value:null===o||void 0===o?void 0:o.Dealer_Address1,icon:(0,p.jsx)(F.Z,{icon:"solar:user-rounded-bold"})}].map((function(e){return(0,p.jsxs)(y.Z,{spacing:1.5,direction:"row",children:[e.icon,(0,p.jsx)(K.Z,{primary:e.label,secondary:e.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span"}})]},e.label)}))})]})}),"history"===a&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(y.Z,{sx:{mx:"auto"},children:[d.length>0&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(tn,{title:"History Timeline",list:d})}),0===d.length&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(M,{title:"No History",filled:!0,sx:{py:10}})})]})})]})]})},sn=(0,r.forwardRef)((function(e,n){return(0,p.jsx)(Y.Z,(0,o.Z)({direction:"up",ref:n},e))}));function cn(e){var n,t,l=e.tour,a=(e.onView,e.onEdit,e.onDelete,(0,D.S)()),s=(0,D.S)(),c=(l.id,l.name,l.price,l.Images1,l.bookers,l.createdAt,l.available,l.priceSale,l.destination,l.ratingNumber,l.VIN,l.Year_field),d=l.Make,u=l.Model,h=l.Type,x=(l.Added_Time,l.Modified_Time),m=l.Image_Count,f=l.Days_In_Stock,Z=l.Stock,b=l.Keys,j=l.Vehicle_Items,C=l.Other_Reasons,_=(0,i.I0)(),S=(0,r.useState)(l),T=(0,g.Z)(S,2),N=T[0],O=T[1],R=(0,r.useState)(!0),M=(0,g.Z)(R,2),V=(M[0],M[1],(0,I.k)()),E=null===l||void 0===l?void 0:l.Images_List_Sources,z=Ne(E),G=(0,i.v9)((function(e){return e.user})).loginUserState,W=function(){V.onTrue(),console.log("LOAD CAR INFO ....",null===N||void 0===N?void 0:N.ID);var e={appName:null===G||void 0===G?void 0:G.appLinkName,reportName:"On_Site_Inventory",id:null===N||void 0===N?void 0:N.ID};_((0,L.mb)(e)).then((function(e){var n;console.log("LOADED CAR INFO ....",e),O(null===e||void 0===e||null===(n=e.payload)||void 0===n?void 0:n.data)}))},Y=(y.Z,y.Z,F.Z,y.Z,"Need"===b&&(y.Z,F.Z),"Need"!==b&&""!==b&&(y.Z,F.Z,"Keys ".concat(b)),""!==j&&j.map((function(e){return(0,p.jsxs)(y.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"subtitle2",bgcolor:"green",borderRadius:1,p:"2px 6px 2px 4px",color:"whitesmoke"},children:[(0,p.jsx)(F.Z,{icon:"ant-design:comment-outlined",sx:{color:"whitesmoke"}}),null===e||void 0===e?void 0:e.display_value]},null===e||void 0===e?void 0:e.display_value)})),""!==C&&(y.Z,F.Z),(0,p.jsxs)(y.Z,{direction:"column",alignItems:"flex-start",sx:{top:2,zIndex:9,position:"absolute",gap:.25,typography:"subtitle2",ml:1.1},children:["Need"===b&&(0,p.jsxs)(y.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"subtitle2",bgcolor:"warning.dark",borderRadius:.5,p:"2px 6px 2px 4px",color:"whitesmoke",fontSize:"0.5rem"},children:[(0,p.jsx)(F.Z,{icon:"mdi:table-key",sx:{color:"whitesmoke",width:10,height:10}}),"Keys Needed"]},b),"Need"!==b&&""!==b&&(0,p.jsxs)(y.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"subtitle2",bgcolor:"warning.dark",borderRadius:.5,p:"2px 6px 2px 4px",color:"whitesmoke",fontSize:"0.5rem"},children:[(0,p.jsx)(F.Z,{icon:"mdi:table-key",sx:{color:"whitesmoke",width:10,height:10}}),"Keys ".concat(b)]},b)]})),X=(y.Z,F.Z,(0,A.yY)(j,"display_value"),K.Z,"Last Update: ".concat(ee(x)),U.Z,w.Z,function(){var e="red";return E.length>1&&E.length<10&&(e="orange"),E.length>10&&(e="green"),e}),J=function(){var e=(0,A.xN)(f),n="red";return e<7&&(n="green"),e>7&&e<15&&(n="orange"),n},ne=(p.Fragment,y.Z,k.Z,a.onOpen,F.Z,y.Z,F.Z,w.Z,y.Z,F.Z,w.Z,(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(y.Z,{spacing:1.5,sx:{position:"relative",p:function(e){return e.spacing(2.5,2.5,2.5,2.5)}},children:[[{label:"Add to Keys Needed ?",icon:(0,p.jsx)(F.Z,{icon:"solar:checklist-minimalistic-broken",sx:{color:"error.main"}})}].map((function(e){return(0,p.jsxs)(y.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[e.icon,e.label]},e.label)})),(0,p.jsx)(H.Z,{item:!0,xs:12,md:8,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"}})]})})),te=(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(y.Z,{spacing:1.5,sx:{position:"relative",p:function(e){return e.spacing(2.5,2.5,2.5,2.5)}},children:[[{label:"Add Reason(s) ?",icon:(0,p.jsx)(F.Z,{icon:"solar:checklist-minimalistic-broken",sx:{color:"error.main"}})}].map((function(e){return(0,p.jsxs)(y.Z,{spacing:1,direction:"row-reverse",alignItems:"center",textAlign:"right",sx:{typography:"body2"},children:[e.icon,e.label]},e.label)})),(0,p.jsx)(H.Z,{xs:12,md:8,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"}})]})}),re=function(e){var n,t=(0,v.Z)(),l=(0,i.I0)(),a=(0,r.useRef)(null),s=null!==(n=null===e||void 0===e?void 0:e.originalIndex)&&void 0!==n?n:1,c=(0,r.useState)((null===e||void 0===e?void 0:e.initialSlide)||s),d=(0,g.Z)(c,2),u=d[0],p=d[1],h=(0,r.useState)(void 0),x=(0,g.Z)(h,2),m=x[0],f=x[1],Z=(0,r.useState)(null),b=(0,g.Z)(Z,2),y=b[0],j=(b[1],"rtl"===t.direction),w=(t.direction,function(e,n){l((0,L.sH)({name:e,value:!0})),l((0,L.sH)({name:"swipeData",value:n}))}),k=(0,o.Z)((0,o.Z)({arrows:!1,dots:!(null===e||void 0===e||!e.customPaging),rtl:j,beforeChange:function(e,n){console.log("Swiped to index:",n),p(n)},afterChange:function(n){0===n&&(w("swipeLeftState",null===e||void 0===e?void 0:e.car_info),console.log("swipeLeftState")),2===n&&(w("swipeRightState",null===e||void 0===e?void 0:e.car_info),console.log("swipeRightState")),n!==s&&setTimeout((function(){a.current&&(console.log("Returning to original index:",s),a.current.slickGoTo(s),p(s))}),300)}},e),{},{fade:!(null===e||void 0===e||!e.fade||j)}),C=(0,r.useCallback)((function(){a.current&&f(a.current)}),[]),I=(0,r.useCallback)((function(){a.current&&a.current.slickPrev()}),[]),_=(0,r.useCallback)((function(){a.current&&a.current.slickNext()}),[]),S=(0,r.useCallback)((function(e){a.current&&(console.log("onTogo to index:",e),a.current.slickGoTo(e))}),[]);return(0,r.useEffect)((function(){C()}),[C]),{nav:m,carouselRef:a,currentIndex:u,carouselSettings:k,onPrev:I,onNext:_,onTogo:S,onSetNav:C,setNav:f,setCurrentIndex:p,dialogSwipe:y}}({autoplay:!1,initialSlide:1,infinite:!0,car_info:l,originalIndex:1}),ie=(0,i.v9)((function(e){return e.user})),oe=(ie.swipeLeftState,ie.swipeRightState,(0,r.useState)("content")),le=(0,g.Z)(oe,2),ae=le[0],de=le[1],ue=(0,r.useCallback)((function(e,n){de(n)}),[]),pe=(0,A.iA)(null===N||void 0===N?void 0:N.Vehicle_History),he=(0,P.K$)(),xe=(0,p.jsx)($.Z,{value:ae,onChange:ue,sx:{mb:{xs:2,md:2},pr:3,pl:3,bgcolor:"dark"===he.themeMode?"rgb(33, 43, 54)":"rgb(255, 255, 255)",borderBottom:function(e){return"dashed 1px ".concat(e.palette.divider)},borderTop:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:[{value:"content",label:"Vehicle Information"},{value:"history",label:"Vehicle History"},{value:"bookers",label:"Gallery"}].map((function(e){return(0,p.jsx)(Q.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(n=e.value,"bookers"===n?(0,p.jsx)(ce.Z,{variant:"filled",children:E.length}):"history"===n?(0,p.jsx)(ce.Z,{variant:"filled",children:pe.length}):"")},e.value);var n}))}),me=(0,p.jsxs)(y.Z,{children:[(0,p.jsx)(y.Z,{spacing:1,children:(0,p.jsx)(K.Z,{sx:{cursor:"pointer"},primary:"Last Update: ".concat(ee(x)),secondary:(0,p.jsx)(U.Z,{onClick:W,color:"inherit",children:(0,p.jsxs)(w.Z,{title:"Stock # | Year | Make | Model",arrow:!0,children:[Z," | ",c," | ",d," | ",u]})}),primaryTypographyProps:{typography:"caption",color:"text.disabled",minWidth:"200px"},secondaryTypographyProps:{noWrap:!0,component:"span",color:"text.primary",typography:"subtitle1",minWidth:"200px",maxWidth:"230px"}})}),(0,p.jsx)(y.Z,{spacing:1,direction:"row",sx:{p:function(e){return e.spacing(.8,3,1,0)},justifyContent:"space-between"},children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(w.Z,{title:"Photo Count",arrow:!0,children:(0,p.jsxs)(y.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[(0,p.jsx)(F.Z,{icon:"mdi:camera",sx:{color:X}}),m]},m)}),(0,p.jsx)(w.Z,{title:"Days Old",arrow:!0,children:(0,p.jsxs)(y.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[(0,p.jsx)(F.Z,{icon:"mdi:calendar-clock",sx:{color:J}}),f]},f)}),(0,p.jsx)(w.Z,{title:"Reasons",arrow:!0,children:(0,p.jsxs)(y.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2",cursor:"pointer"},onClick:s.onOpen,children:[(0,p.jsx)(F.Z,{icon:"ant-design:comment-outlined"}),""!==C?j.length+1:j.length]})})]})})]}),fe=(0,p.jsxs)(y.Z,{spacing:1,direction:"row",sx:{display:"flex !important",p:function(e){return e.spacing(1,1,0,1)}},children:[Y,(0,p.jsx)(y.Z,{sx:{position:"relative",cursor:"pointer",color:"common.white"},children:(0,p.jsx)(se,{alt:null===(n=E[0])||void 0===n?void 0:n.src,src:null===(t=E[0])||void 0===t?void 0:t.src,onClick:function(){var e;return z.onOpen(null===(e=E[0])||void 0===e?void 0:e.src)},ratio:"1/1",sx:{borderRadius:1,width:80,cursor:"pointer",color:"common.white",height:70}})}),me]});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(an,{dialogvalue:V.value,dialogonFalse:V.onFalse,Transition:sn,tour:l,renderTabs:xe,currentTab:ae,slides:E,settings:he,historyTimeline:pe}),(0,p.jsx)(q.Z,{sx:{boxShadow:"rgba(0, 0, 0, 0.1) 0px 2px 4px 0px, rgba(0, 0, 0, 0.1) 0px 12px 24px -4px",borderRadius:2},children:(0,p.jsxs)(Te,(0,o.Z)((0,o.Z)({ref:re.carouselRef},re.carouselSettings),{},{children:[te,fe,ne]}))}),(0,p.jsx)(He,{index:z.selected,slides:E,open:z.open,close:z.onClose}),(0,p.jsxs)(D.Z,{open:a.open,onClose:a.onClose,arrow:"right-top",sx:{width:140},children:[(0,p.jsxs)(B.Z,{onClick:function(){V.onTrue(),a.onClose()},children:[(0,p.jsx)(F.Z,{icon:"solar:eye-bold"}),"View"]}),(0,p.jsxs)(B.Z,{onClick:function(){var e="https://creatorapp.zoho.com/dealernet/dealer-inventory/Dealer_Inventory_Records/record-edit/On_Site_Inventory/".concat(null===N||void 0===N?void 0:N.ID,"/");"string"===typeof e&&""!==e.trim()&&window.open(e,"_blank","noopener,noreferrer")},children:[(0,p.jsx)(F.Z,{icon:"solar:pen-bold"}),"Edit"]})]}),(0,p.jsxs)(D.Z,{open:s.open,onClose:s.onClose,arrow:"right-top",children:[""!==j&&j.map((function(e){return(0,p.jsxs)(y.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption",borderRadius:1,p:"2px 6px 2px 4px"},children:[(0,p.jsx)(F.Z,{icon:"ant-design:comment-outlined"}),null===e||void 0===e?void 0:e.display_value]},null===e||void 0===e?void 0:e.display_value)})),""!==C&&(0,p.jsxs)(y.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{typography:"caption",borderRadius:1,p:"2px 6px 2px 4px"},children:[(0,p.jsx)(F.Z,{icon:"ant-design:comment-outlined"}),C]},C)]})]})}function dn(e){var n=e.tours,t=e.resultData,o=((0,I.k)(),(0,i.v9)((function(e){return e.user}))),l=(o.onSiteInventoryList,o.list_page,o.finishedGettingInventoryItems,(0,v.Z)()),a=(0,r.useState)(1),s=(0,g.Z)(a,2),c=s[0],d=s[1];(0,r.useEffect)((function(){window.scrollTo(0,0)}),[c]);var h=(0,i.I0)(),x=(0,W.tv)(),m=(0,r.useCallback)((function(e){x.push(C.H.dashboard.tour.details(e))}),[x]),Z=(0,r.useCallback)((function(e){x.push(C.H.dashboard.tour.edit(e))}),[x]),b=(0,r.useCallback)((function(e){console.info("DELETE",e)}),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{gap:1.5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},children:n.map((function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(cn,{tour:e,onView:function(){return m(e.ID)},onEdit:function(){return Z(e.ID)},onDelete:function(){return b(e.ID)}},e.ID)})}))}),(0,p.jsx)(z.Z,{count:(0,A.o$)(t.length/20),page:c,onChange:function(e,n){console.log("handleChange page",n),h((0,L.sH)({name:"list_page",value:n})),d(n)},sx:(0,f.Z)({pt:1,pb:1,position:"fixed",bottom:0,right:0,width:"100%",borderTop:"dashed 1px ".concat(l.palette.divider),backgroundColor:"background.default",bgcolor:"background.default"},"& .".concat(G.Z.ul),{justifyContent:"center"})})]})}function un(e){var n=e.sort,t=e.onSort,r=e.sortOptions,i=e.fieldName,o=(0,D.S)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(Ze.Z,{disableRipple:!0,color:"inherit",onClick:o.onOpen,endIcon:(0,p.jsx)(F.Z,{icon:o.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold",justifyContent:"flex-end"},children:[i,":",(0,p.jsx)(u.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:(0,A.Mj)(r,n)})]}),(0,p.jsx)(D.Z,{open:o.open,onClose:o.onClose,sx:{width:140},children:r.map((function(e){return(0,p.jsx)(B.Z,{selected:e.value===n,onClick:function(){o.onClose(),t(e.value)},children:e.label},e.value)}))})]})}var pn=t(34004),hn=t.n(pn),xn=t(79085),mn=t.n(xn),fn=t(93044),gn=t(63466),vn=t(30055),Zn=t(97902),bn=t(96349);function yn(e){var n=e.query,t=e.results,i=e.onSearch,l=(e.hrefItem,e.onFilters),a=e.filters,s=((0,W.tv)(),(0,r.useState)(!1)),c=(0,g.Z)(s,2),d=c[0],h=c[1],x=(0,r.useCallback)((function(e){console.log("ID",e);var n=a.ID.includes(e)?a.ID.filter((function(n){return n!==e})):[].concat((0,ve.Z)(a.ID),[e]);l("ID",n),h(!1)}),[a.ID,l]),m=function(e){if(n&&"Enter"===e.key){var r=t.filter((function(e){return e.Car_FullName===n}))[0];x(r.ID)}};return(0,p.jsx)(vn.Z,{sx:{width:1},autoHighlight:!0,open:d,onOpen:function(){return h(!0)},onClose:function(){return h(!1)},popupIcon:null,options:t,onInputChange:function(e,n){return i(n)},getOptionLabel:function(e){return e.Car_FullName},noOptionsText:(0,p.jsx)(bn.Z,{query:n,sx:{bgcolor:"unset"}}),isOptionEqualToValue:function(e,n){return e.ID===n.ID},slotProps:{popper:{placement:"bottom-start",sx:{minWidth:350}},paper:{sx:(0,f.Z)({}," .".concat(Zn.Z.option),{pl:.75})}},renderInput:function(e){return(0,p.jsx)(ke.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Type the VIN, Stock #, Year, Make, or Model",onKeyUp:m,InputProps:(0,o.Z)((0,o.Z)({},e.InputProps),{},{startAdornment:(0,p.jsx)(gn.Z,{position:"start",children:(0,p.jsx)(F.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),sx:{"& .MuiInputBase-input":{padding:"0 !important"}}})}))},renderOption:function(e,n,t){var i,l=t.inputValue,a=mn()(n.Car_FullName,l),s=hn()(n.Car_FullName,a);return(0,r.createElement)(u.Z,(0,o.Z)((0,o.Z)({component:"li"},e),{},{onClick:function(){return x(n.Car_FullName)},key:n.ID}),(0,p.jsx)(fn.Z,{alt:n.Car_FullName,src:null===(i=(0,A.BR)(null===n||void 0===n?void 0:n.Images1)[0])||void 0===i?void 0:i.src,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},n.ID),(0,p.jsx)("div",{children:s.map((function(e,n){return(0,p.jsx)(N.Z,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},n)}))},l))}})}var jn=t(60004),wn=t(85771),kn=t(88654),Cn=t(94721),In=t(47974);function _n(e){var n=e.open,t=e.onOpen,i=e.onClose,l=e.filters,a=e.onFilters,s=e.canReset,c=e.onResetFilters,h=e.destinationOptions,x=e.tourGuideOptions,m=e.serviceOptions,v=e.statusOptions,j=(e.vehiclesOptions,e.keysOptions),C=e.dateError,I=e.dataFilteredParam,S=(e.onCloseMobile,(0,r.useState)({query:"",results:[]})),D=(0,g.Z)(S,2),T=D[0],O=D[1],R=(0,_.F)("up","lg"),M=(0,r.useCallback)((function(e){if(O((function(n){return(0,o.Z)((0,o.Z)({},n),{},{query:e})})),e){var n=null===I||void 0===I?void 0:I.allData.filter((function(n){return-1!==n.Car_FullName.toLowerCase().indexOf(e.toLowerCase())}));O((function(e){return(0,o.Z)((0,o.Z)({},e),{},{results:n})}))}}),[I]),P=(0,r.useCallback)((function(e){var n=l.services.includes(e)?l.services.filter((function(n){return n!==e})):[].concat((0,ve.Z)(l.services),[e]);a("services",n)}),[l.services,a]),E=(0,r.useCallback)((function(e){console.log("STATUS",[].concat((0,ve.Z)(l.status),[e]));var n=l.status.includes(e)?l.status.filter((function(n){return n!==e})):[].concat((0,ve.Z)(l.status),[e]);a("status",n)}),[l.status,a]),L=(0,r.useCallback)((function(e){console.log("KEYS",[].concat((0,ve.Z)(l.keys),[e]));var n=l.keys.includes(e)?l.keys.filter((function(n){return n!==e})):[].concat((0,ve.Z)(l.keys),[e]);a("keys",n)}),[l.keys,a]),z=(0,r.useCallback)((function(e){a("startDate",e)}),[a]),G=(0,r.useCallback)((function(e){a("endDate",e)}),[a]),W=(0,r.useCallback)((function(e){a("destination",e)}),[a]),H=(0,r.useCallback)((function(e){a("tourGuides",e)}),[a]),U=(0,p.jsxs)(y.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,p.jsx)(N.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,p.jsx)(w.Z,{title:"Reset",children:(0,p.jsx)(k.Z,{onClick:c,children:(0,p.jsx)(Z.Z,{color:"error",variant:"dot",invisible:!s,children:(0,p.jsx)(F.Z,{icon:"solar:restart-bold"})})})}),(0,p.jsx)(k.Z,{onClick:i,children:(0,p.jsx)(F.Z,{icon:"mingcute:close-line"})})]}),q=(y.Z,N.Z,y.Z,jn.M,l.startDate,jn.M,l.endDate,(0,p.jsx)(y.Z,{children:(0,p.jsx)(vn.Z,{multiple:!0,disableCloseOnSelect:!0,options:h.map((function(e){return e.Dealer_Name})),getOptionLabel:function(e){return e},value:l.destination,onChange:function(e,n){return W(n)},renderInput:function(e){return(0,p.jsx)(ke.Z,(0,o.Z)((0,o.Z)({placeholder:"Select Dealership"},e),{},{label:"Dealership",variant:"outlined"}))},renderOption:function(e,n){var t,i=h.filter((function(e){return e.Dealer_Name===n}))[0],l=i.Dealer_Name,a=i.Images1;return l?(0,r.createElement)("li",(0,o.Z)((0,o.Z)({},e),{},{key:l}),(0,p.jsx)(fn.Z,{alt:l,src:null===(t=(0,A.BR)(a)[0])||void 0===t?void 0:t.src,variant:"rounded",sx:{width:25,height:25,flexShrink:0,mr:1.5,borderRadius:1}},l),l):null},renderTags:function(e,n){return e.map((function(e,t){return(0,r.createElement)(wn.Z,(0,o.Z)((0,o.Z)({},n({index:t})),{},{key:e,label:e,size:"small",variant:"soft"}))}))}})})),B=(y.Z,N.Z,vn.Z,l.tourGuides,(0,p.jsxs)(y.Z,{children:[(0,p.jsx)(N.Z,{variant:"subtitle2",sx:{mb:1},children:"Vehicle Items"}),m.map((function(e){return(0,p.jsx)(Ce.Z,{control:(0,p.jsx)(Ie.Z,{checked:l.services.includes(e),onClick:function(){return P(e)}}),label:e},e)}))]})),K=(0,p.jsxs)(y.Z,{children:[(0,p.jsx)(N.Z,{variant:"subtitle2",sx:{mb:1},children:"Type"}),v.map((function(e){return(0,p.jsx)(Ce.Z,{control:(0,p.jsx)(Ie.Z,{checked:l.status.includes(e),onClick:function(){return E(e)}}),label:e},e)}))]}),Y=(0,p.jsxs)(y.Z,{children:[(0,p.jsx)(N.Z,{variant:"subtitle2",sx:{mb:1},children:"Keys"}),j.map((function(e){return(0,p.jsx)(Ce.Z,{control:(0,p.jsx)(Ie.Z,{checked:l.keys.includes(e),onClick:function(){return L(e)}}),label:e},e)}))]}),Q=(0,p.jsx)(yn,{query:T.query,results:T.results,onSearch:M,hrefItem:function(e){return e},onFilters:a,filters:l});return(0,p.jsxs)(p.Fragment,{children:[!R&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(w.Z,{title:"Filter",arrow:!0,children:(0,p.jsx)(Z.Z,{color:"error",variant:"dot",invisible:!s,sx:(0,f.Z)({},"& .".concat(b.Z.badge),{top:8,right:8}),children:(0,p.jsx)(u.Z,{component:d.m.div,animate:{},transition:{duration:12,ease:"linear",repeat:1/0},children:(0,p.jsx)(k.Z,{component:d.m.button,whileTap:"tap",whileHover:"hover",variants:(0,V.U6)(1.05),"aria-label":"settings",onClick:t,sx:{width:40,height:40},children:(0,p.jsx)(F.Z,{icon:"mi:filter",width:24})})})})})}),R&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(Ze.Z,{disableRipple:!0,color:"inherit",endIcon:(0,p.jsx)(Z.Z,{color:"error",variant:"dot",invisible:!s,children:(0,p.jsx)(F.Z,{icon:"mi:filter"})}),onClick:t,children:"Filters"})}),(0,p.jsxs)(kn.ZP,{anchor:"right",open:n,onClose:i,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:350}},children:[U,(0,p.jsx)(Cn.Z,{}),(0,p.jsx)(In.Z,{sx:{px:2.5,py:3},children:(0,p.jsxs)(y.Z,{spacing:3,children:[q,K,Y,B,Q]})})]})]})}var Sn=t(27938),Dn=["filters","onFilters","canReset","onResetFilters","results"],Fn=["label","children","sx"];function Tn(e){var n=e.filters,t=e.onFilters,r=e.canReset,i=e.onResetFilters,l=e.results,a=(0,s.Z)(e,Dn),c=function(e,n){var t=(new Date).getFullYear(),r=e?(0,de.Z)(e):null,i=n?(0,de.Z)(n):null,o=t===r&&t===i,l=!(!e||!n)&&(0,ue.Z)(new Date(e),new Date(n)),a=!(!e||!n)&&(0,pe.Z)(new Date(e),new Date(n));return o?a?l?J(n,"dd MMM yy"):"".concat(J(e,"dd")," - ").concat(J(n,"dd MMM yy")):"".concat(J(e,"dd MMM")," - ").concat(J(n,"dd MMM yy")):"".concat(J(e,"dd MMM yy")," - ").concat(J(n,"dd MMM yy"))}(n.startDate,n.endDate);return(0,p.jsxs)(y.Z,(0,o.Z)((0,o.Z)({spacing:1.5},a),{},{children:[(0,p.jsxs)(u.Z,{sx:{typography:"body2"},children:[(0,p.jsxs)("strong",{children:[l," "]}),(0,p.jsx)(u.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:l>1?"results found.":"result found."})]}),(0,p.jsxs)(y.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!n.ID.length&&(0,p.jsx)(Nn,{label:"Search:",children:n.ID.map((function(e){return(0,p.jsx)(wn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.ID.filter((function(n){return n!==e}));t("ID",r)}(e)}},e)}))}),!!n.destination.length&&(0,p.jsx)(Nn,{label:"Dealership:",children:n.destination.map((function(e){return(0,p.jsx)(wn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.destination.filter((function(n){return n!==e}));t("destination",r)}(e)}},e)}))}),n.startDate&&n.endDate&&(0,p.jsx)(Nn,{label:"Available:",children:(0,p.jsx)(wn.Z,{size:"small",label:c,onDelete:function(){t("startDate",null),t("endDate",null)}})}),!!n.status.length&&(0,p.jsx)(Nn,{label:"Type:",children:n.status.map((function(e){return(0,p.jsx)(wn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.status.filter((function(n){return n!==e}));t("status",r)}(e)}},e)}))}),!!n.keys.length&&(0,p.jsx)(Nn,{label:"Keys:",children:n.keys.map((function(e){return(0,p.jsx)(wn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.keys.filter((function(n){return n!==e}));t("keys",r)}(e)}},e)}))}),!!n.services.length&&(0,p.jsx)(Nn,{label:"Vehicle Items:",children:n.services.map((function(e){return(0,p.jsx)(wn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.services.filter((function(n){return n!==e}));t("services",r)}(e)}},e)}))}),!!n.tourGuides.length&&(0,p.jsx)(Nn,{label:"Tour guide:",children:n.tourGuides.map((function(e){return(0,p.jsx)(wn.Z,{size:"small",avatar:(0,p.jsx)(fn.Z,{alt:e.name,src:e.avatarUrl}),label:e.name,onDelete:function(){return function(e){var r=n.tourGuides.filter((function(n){return n.name!==e.name}));t("tourGuides",r)}(e)}},e.id)}))}),r&&(0,p.jsx)(Ze.Z,{color:"error",onClick:i,startIcon:(0,p.jsx)(F.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function Nn(e){var n=e.label,t=e.children,r=e.sx,i=(0,s.Z)(e,Fn);return(0,p.jsxs)(y.Z,(0,o.Z)((0,o.Z)({component:Sn.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,o.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},r)},i),{},{children:[(0,p.jsx)(u.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,p.jsx)(y.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]}))}var On={destination:[],status:[],tourGuides:[],services:[],keys:[],vehicles:[],comment:null,startDate:null,endDate:null,ID:[]},Rn=[{value:"asc",label:"Asc"},{value:"desc",label:"Desc"}],Mn=[{value:"Modified_Time",label:"Modified Time"},{value:"Added_Time",label:"Added Time"},{value:"Stock",label:"Stock Number"},{value:"Image_Count",label:"Photo Count"},{value:"Days_In_Stock",label:"Days Old"},{value:"Model",label:"Model"}];function Pn(){var e=(0,v.Z)();(0,E.Z)();var n=(0,i.v9)((function(e){return e.user})),t=n.onSiteInventoryList,l=n.list_page,a=n.finishedGettingInventoryItems,s=n.vehicleReports,c=n.swipeRightState,h=n.swipeLeftState,x=(n.swipeData,n.allDealerships),C=(0,P.K$)(),T=(0,D.S)(),N=(0,_.F)("up","lg"),O=(0,r.useState)(t),R=(0,g.Z)(O,2),L=R[0],z=R[1],G=(0,r.useState)(t),W=(0,g.Z)(G,2),H=W[0],U=W[1],q=(0,I.k)(),B=(0,r.useState)(Mn[0].value),K=(0,g.Z)(B,2),Y=K[0],Q=K[1],$=(0,r.useState)(Rn[1].value),X=(0,g.Z)($,2),J=X[0],ee=X[1],ne=(0,r.useState)(a),te=(0,g.Z)(ne,2),re=te[0],ie=te[1],oe=(0,r.useState)({query:"",results:[]}),le=(0,g.Z)(oe,2),ae=le[0],se=le[1],ce=(0,r.useState)(!1),de=(0,g.Z)(ce,2),ue=(de[0],de[1],(0,r.useState)(On)),pe=(0,g.Z)(ue,2),he=pe[0],xe=pe[1],me=!(!he.Added_Time||!he.Modified_Time)&&he.Added_Time.getTime()>he.Modified_Time.getTime(),fe=Vn({inputData:L,filters:he,sortBy:Y,dateError:me,sortOrder:J,allItems:H,doneFetching:a,list_page_param:l});(0,r.useEffect)((function(){var e=(0,A.V6)(t,l);z(null===e||void 0===e?void 0:e.paginateData),U(null===e||void 0===e?void 0:e.allData)}),[t,l]),(0,r.useEffect)((function(){ie(a)}),[a]);var ge=!!he.destination.length||!!he.keys.length||!!he.vehicles.length||!!he.services.length||!!he.status.length||!!he.ID.length,ve=!(null!==fe&&void 0!==fe&&fe.paginateData.length)&&ge,Ze=(0,r.useCallback)((function(e,n){xe((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,f.Z)({},e,n))}))}),[]),be=(0,r.useCallback)((function(e){Q(e)}),[]),ye=(0,r.useCallback)((function(e){ee(e)}),[]),je=(0,r.useCallback)((function(e){if(se((function(n){return(0,o.Z)((0,o.Z)({},n),{},{query:e})})),e){var n=null===fe||void 0===fe?void 0:fe.allData.filter((function(n){return-1!==n.Car_FullName.toLowerCase().indexOf(e.toLowerCase())}));se((function(e){return(0,o.Z)((0,o.Z)({},e),{},{results:n})}))}}),[fe]),we=(0,r.useCallback)((function(){xe(On)}),[]),ke=(0,p.jsxs)(u.Z,{sx:{position:"fixed",top:0,left:0,right:0,zIndex:1100,backgroundColor:"background.default",boxShadow:1,padding:.9,borderBottom:"dashed 1px ".concat(e.palette.divider)},children:[!N&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(y.Z,{direction:{xs:"row",sm:"row",md:"row",lg:"row",xl:"row"},display:{xs:"flex",sm:"flex",md:"flex",lg:"flex",xl:"flex"},sx:{justifyContent:"space-between"},spacing:1,flexShrink:0,children:[(0,p.jsx)(yn,{query:ae.query,results:ae.results,onSearch:je,onFilters:Ze,filters:he,hrefItem:function(e){return e}}),(0,p.jsxs)(y.Z,{sx:{display:"flex",flexDirection:"row"},children:[(0,p.jsx)(y.Z,{children:(0,p.jsx)(w.Z,{title:"Sort",arrow:!0,children:(0,p.jsx)(Z.Z,{color:"error",variant:"dot",invisible:!T.open,sx:(0,f.Z)({},"& .".concat(b.Z.badge),{top:8,right:8}),children:(0,p.jsx)(u.Z,{component:d.m.div,animate:{},transition:{duration:12,ease:"linear",repeat:1/0},children:(0,p.jsx)(k.Z,{component:d.m.button,whileTap:"tap",whileHover:"hover",variants:(0,V.U6)(1.05),"aria-label":"settings",onClick:T.onOpen,sx:{width:40,height:40},children:(0,p.jsx)(F.Z,{icon:"iconoir:sort",width:24})})})})})}),(0,p.jsx)(y.Z,{children:(0,p.jsx)(_n,{open:q.value,onOpen:q.onTrue,onClose:q.onFalse,filters:he,onFilters:Ze,canReset:ge,onResetFilters:we,serviceOptions:(0,A.VQ)(s,"Vehicle_Item"),keysOptions:["N/A","Need","Received","Returned"],vehiclesOptions:(0,A.VQ)(s,"Vehicle_Item"),statusOptions:(0,A.VQ)(t,"Type"),tourGuideOptions:S.$r,destinationOptions:x,dateError:me,dataFilteredParam:fe})}),"dark"===C.themeMode&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(w.Z,{title:"Switch to Light Mode",arrow:!0,children:(0,p.jsx)(Z.Z,{children:(0,p.jsx)(u.Z,{component:d.m.div,animate:{},transition:{duration:12,ease:"linear",repeat:1/0},children:(0,p.jsx)(k.Z,{component:d.m.button,whileTap:"tap",whileHover:"hover",variants:(0,V.U6)(1.05),"aria-label":"settings",onClick:function(e){return C.onUpdate("themeMode","light")},sx:{width:40,height:40},children:(0,p.jsx)(F.Z,{icon:"material-symbols:light-mode-outline-rounded",width:24})})})})})})}),"light"===C.themeMode&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(w.Z,{title:"Switch to Dark Mode",arrow:!0,children:(0,p.jsx)(Z.Z,{children:(0,p.jsx)(u.Z,{component:d.m.div,animate:{},transition:{duration:12,ease:"linear",repeat:1/0},children:(0,p.jsx)(k.Z,{component:d.m.button,whileTap:"tap",whileHover:"hover",variants:(0,V.U6)(1.05),"aria-label":"settings",onClick:function(e){return C.onUpdate("themeMode","dark")},sx:{width:40,height:40},children:(0,p.jsx)(F.Z,{icon:"material-symbols:dark-mode-outline-rounded",width:24})})})})})})})]})]})}),N&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(y.Z,{sx:{justifyContent:"space-between",display:"grid",gridTemplateColumns:"1.5fr 1fr"},spacing:1,flexShrink:0,children:[(0,p.jsx)(yn,{query:ae.query,results:ae.results,onSearch:je,onFilters:Ze,filters:he,hrefItem:function(e){return e}}),(0,p.jsxs)(y.Z,{direction:{xs:"row",sm:"row",md:"row",lg:"row",xl:"row"},display:{xs:"flex",sm:"flex",md:"flex",lg:"flex",xl:"flex"},sx:{justifyContent:"flex-end"},children:[(0,p.jsx)(un,{sort:Y,onSort:be,sortOptions:Mn,fieldName:"Sort By"}),(0,p.jsx)(un,{sort:J,onSort:ye,sortOptions:Rn,fieldName:"Sort Order"}),(0,p.jsx)(_n,{open:q.value,onOpen:q.onTrue,onClose:q.onFalse,filters:he,onFilters:Ze,canReset:ge,onResetFilters:we,serviceOptions:(0,A.VQ)(s,"Vehicle_Item"),keysOptions:["N/A","Need","Received","Returned"],vehiclesOptions:(0,A.VQ)(s,"Vehicle_Item"),statusOptions:(0,A.VQ)(t,"Type"),tourGuideOptions:S.$r,destinationOptions:x,dateError:me,dataFilteredParam:fe}),"dark"===C.themeMode&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(w.Z,{title:"Switch to Light Mode",arrow:!0,children:(0,p.jsx)(Z.Z,{children:(0,p.jsx)(u.Z,{component:d.m.div,animate:{},transition:{duration:12,ease:"linear",repeat:1/0},children:(0,p.jsx)(k.Z,{component:d.m.button,whileTap:"tap",whileHover:"hover",variants:(0,V.U6)(1.05),"aria-label":"settings",onClick:function(e){return C.onUpdate("themeMode","light")},sx:{width:40,height:40},children:(0,p.jsx)(F.Z,{icon:"material-symbols:light-mode-outline-rounded",width:24})})})})})})}),"light"===C.themeMode&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(w.Z,{title:"Switch to Dark Mode",arrow:!0,children:(0,p.jsx)(Z.Z,{children:(0,p.jsx)(u.Z,{component:d.m.div,animate:{},transition:{duration:12,ease:"linear",repeat:1/0},children:(0,p.jsx)(k.Z,{component:d.m.button,whileTap:"tap",whileHover:"hover",variants:(0,V.U6)(1.05),"aria-label":"settings",onClick:function(e){return C.onUpdate("themeMode","dark")},sx:{width:40,height:40},children:(0,p.jsx)(F.Z,{icon:"material-symbols:dark-mode-outline-rounded",width:24})})})})})})})]})]})}),(0,p.jsx)(D.Z,{open:T.open,onClose:T.onClose,sx:{width:220},children:(0,p.jsxs)(y.Z,{children:[(0,p.jsx)(un,{sort:Y,onSort:be,sortOptions:Mn,fieldName:"Sort By"}),(0,p.jsx)(un,{sort:J,onSort:ye,sortOptions:Rn,fieldName:"Sort Order"})]})})]}),Ce=(0,p.jsx)(Tn,{filters:he,onResetFilters:we,canReset:ge,onFilters:Ze,results:null===fe||void 0===fe?void 0:fe.allData.length});return re?(0,p.jsxs)(j.Z,{maxWidth:!C.themeStretch&&"lg",children:[h&&(0,p.jsx)(Se,{}),c&&(0,p.jsx)(Fe,{}),ke,(0,p.jsx)(y.Z,{spacing:2.5,sx:{pt:{xs:5,sm:4,md:4,lg:2},mb:{xs:2,sm:2,md:2,lg:2}},children:ge&&Ce}),ve&&(0,p.jsx)(M,{title:"No Data",filled:!0,sx:{py:10}}),(0,p.jsx)(dn,{tours:null===fe||void 0===fe?void 0:fe.paginateData,resultData:null===fe||void 0===fe?void 0:fe.allData})]}):(0,p.jsx)(m.a,{})}var Vn=function(e){var n=e.inputData,t=e.filters,r=e.sortBy,i=(e.dateError,e.sortOrder),o=e.allItems,l=e.doneFetching,a=e.list_page_param,s=t.services,c=t.destination,d=(t.startDate,t.endDate,t.tourGuides,t.status),u=t.keys,p=(t.vehicles,t.ID);console.log("filters",t),console.log("doneFetching",l),console.log("inputData",n),console.log("list_page_param",a),console.log("allItems",o),console.log(r,i);var h=(0,A.YC)(o,r,i);console.log("sortedItems",h);var x=(0,A.V6)(h,a);if(console.log("newInputData",x),n=x,d.length){var m,f=null===(m=n)||void 0===m?void 0:m.allData.filter((function(e){return d.includes(e.Type)}));console.log("statusFiltered",f);var g=(0,A.V6)(f,a);console.log("newStatusFilteredInputData",g),n=g}if(u.length){var v,Z=null===(v=n)||void 0===v?void 0:v.allData.filter((function(e){return u.includes(e.Keys)}));console.log("keysFiltered",Z);var b=(0,A.V6)(Z,a);console.log("newKeysFilteredInputData",b),n=b}if(s.length){var y,j=null===(y=n)||void 0===y?void 0:y.allData.filter((function(e){return Array.isArray(e.Vehicle_Items)&&e.Vehicle_Items.some((function(e){return s.includes(e.display_value)}))}));console.log("servicesFiltered",j);var w=(0,A.V6)(j,a);console.log("newServicesFilteredInputData",w),n=w}if(p.length){var k,C=null===(k=n)||void 0===k?void 0:k.allData.filter((function(e){return p.includes(e.Car_FullName)}));console.log("IDsFiltered",C);var I=(0,A.V6)(C,a);console.log("newIDsFilteredInputData",I),n=I}if(c.length){var _,S=null===(_=n)||void 0===_?void 0:_.allData.filter((function(e){return c.includes(e["Dealer.Dealer_Name"])}));console.log("destinationFiltered",S);var D=(0,A.V6)(S,a);console.log("newDestinationFilteredInputData",D),n=D}return console.log("FINAL_INPUT",n),n};(0,a.ZP)("div")((function(e){var n=e.anchor,t=void 0===n?"top":n,r=e.theme;return(0,o.Z)((0,o.Z)({left:0,zIndex:9,height:80,width:"100%",position:"absolute",clipPath:"polygon(0% 0%, 100% 100%, 0% 100%)",backgroundColor:r.palette.background.default,display:"block",lineHeight:0},"top"===t&&{top:-1,transform:"scale(-1, -1)"}),"bottom"===t&&{bottom:-1,backgroundColor:r.palette.grey[900]})}));function En(){var e=(0,l.v)().scrollYProgress;(0,i.v9)((function(e){return e.user})).finishedGettingInventoryItems;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x,{scrollYProgress:e}),(0,p.jsx)(Pn,{})]})}function An(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(En,{})})}}}]);
//# sourceMappingURL=586.7a116d8c.chunk.js.map